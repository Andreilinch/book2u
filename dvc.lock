schema: '2.0'
stages:
  clean_data:
    cmd: python ./src/data/data_cleanser.py ./data/raw/GoodReads_100k_books.csv ./data/interim/GoodReads_books_clean.parquet
    deps:
    - path: ./data/raw/GoodReads_100k_books.csv
      md5: cbc104379fdcc733a04ee499298ce133
      size: 120165547
    - path: ./src/data/data_cleanser.py
      md5: 2a62cf080fdfcfcf1b93f1354731cb1d
      size: 4141
    outs:
    - path: ./data/interim/GoodReads_books_clean.parquet
      md5: 87090f189597833999b3ff7604c6b41e
      size: 31158809
  generate_extended_text:
    cmd: python ./src/features/text_features_generator.py ./data/interim/GoodReads_books_clean.parquet
      ./data/interim/extended_descriptions.parquet
    deps:
    - path: ./data/interim/GoodReads_books_clean.parquet
      md5: 87090f189597833999b3ff7604c6b41e
      size: 31158809
    - path: ./src/features/text_features_generator.py
      md5: 19b286929913a2ef8ec413caa9e4d920
      size: 3047
    outs:
    - path: ./data/interim/extended_descriptions.parquet
      md5: 1301e602b10eabc1820fb295ca852e46
      size: 27445122
    - path: ./data/interim/extended_max_descriptions.parquet
      md5: 90e07fef548cce5eda1b99c278602ea3
      size: 29621926
  generate_vectorized_text:
    cmd: python ./src/models/text_vectorizer.py ./data/interim/extended_descriptions.parquet
      ./data/processed/description_vectorized.parquet 300
    deps:
    - path: ./data/interim/extended_descriptions.parquet
      md5: 1301e602b10eabc1820fb295ca852e46
      size: 27445122
    - path: ./src/models/text_vectorizer.py
      md5: d6bd3431fb0be5aabb5a343b981533fa
      size: 3595
    outs:
    - path: ./data/processed/description_vectorized.parquet
      md5: 9cd3031de60256de48e0f0d0f7c30a2f
      size: 162777773
  generate_short_vectorized_text:
    cmd: python ./src/models/text_vectorizer.py ./data/interim/GoodReads_books_clean.parquet
      ./data/processed/short_description_vectorized.parquet 300
    deps:
    - path: ./data/interim/GoodReads_books_clean.parquet
      md5: 87090f189597833999b3ff7604c6b41e
      size: 31158809
    - path: ./src/models/text_vectorizer.py
      md5: d6bd3431fb0be5aabb5a343b981533fa
      size: 3595
    outs:
    - path: ./data/processed/short_description_vectorized.parquet
      md5: 3b647fb6b5a0e495af4ffe0c6da0b22b
      size: 162773002
  generate_max_vectorized_text:
    cmd: python ./src/models/text_vectorizer.py ./data/interim/extended_max_descriptions.parquet
      ./data/processed/max_description_vectorized.parquet 300
    deps:
    - path: ./data/interim/extended_max_descriptions.parquet
      md5: 90e07fef548cce5eda1b99c278602ea3
      size: 29621926
    - path: ./src/models/text_vectorizer.py
      md5: d6bd3431fb0be5aabb5a343b981533fa
      size: 3595
    outs:
    - path: ./data/processed/max_description_vectorized.parquet
      md5: 60d0ff5dc0b7a8d18025a1c1c01c5004
      size: 162778067
